name: CI de Ruyman
on:
  push:
    branches: [ "main" ]

jobs:
  mi-primer-trabajo:
    runs-on: ubuntu-latest

    steps:
      - name: Descargar codigo
        uses: actions/checkout@v4
      
      - name: Verificar archivo
        run: grep "production" config/kubernetes.conf
        
      - name: Desplegar a ProducciÃ³n vÃ­a SSH
        uses: appleboy/ssh-action@v1.0.3
        with:
          host: ${{ secrets.HOST }}
          username: ${{ secrets.USERNAME }}
          key: ${{ secrets.LLAVE_PRIVADA_SSH }}
          port: ${{ secrets.PORT }}
          script: |
            echo "ðŸ”Œ ConexiÃ³n establecida con Ã©xito."
            echo "ðŸ‘¤ Soy el usuario: $(whoami)"
            echo "ðŸ“‚ Estoy en el directorio: $(pwd)"
            echo "ðŸš€ Listo para ejecutar comandos en el servidor."